{% extends "base.html" %}

{% block content %}
<main class="page registration-page peace-register">
  <section class="registration-hero" data-scroll>
    <div class="registration-copy glass-card peace-card">
      <p class="peace-eyebrow">Vishwa Shanti Samavesha Â· Global Peace Conclave</p>
      <h1>
        <span class="kannada-highlight">Registration Portal</span>
      </h1>
      <p>
        Reserve your seat for the day-long celebration of harmony, human values, and collective responsibility toward a peaceful world.
      </p>
      
      <div class="registration-meta">
        <div>
          <p class="peace-eyebrow">Event Date</p>
          <strong>December 13, 2025</strong>
        </div>
        <div>
          <p class="peace-eyebrow">Location</p>
          <strong>Paryaya Sri Puthige Sri Krishna Matha, Udupi</strong>
        </div>
      </div>
    </div>
  </section>

  <section class="registration-form-section" data-scroll>
    <div class="glass-card registration-form-card peace-card">
      <header>
        <p class="peace-eyebrow">Step into the conclave</p>
        <h2>Complete your registration</h2>
        <p>Fields marked * are mandatory</p>
      </header>
      <form method="post" class="registration-form" autocomplete="off">
        <div class="form-grid">
          <label>
            Full Name*
            <input
              type="text"
              name="name"
              placeholder="Enter your full name"
              value="{{ request.form.get('name', '') }}"
              required
            />
          </label>
          <label>
            College*
            <select name="college" required>
              <option value="">Select your college</option>
              {% for college in colleges %}
              <option
                value="{{ college }}"
                {% if request.form.get('college') == college %}selected{% endif %}
              >
                {{ college }}
              </option>
              {% endfor %}
            </select>
          </label>
          <label>
            Course*
            <select name="course" required>
              <option value="">Select your course</option>
              {% for course in courses %}
              <option
                value="{{ course }}"
                {% if request.form.get('course') == course %}selected{% endif %}
              >
                {{ course }}
              </option>
              {% endfor %}
            </select>
          </label>
          <label>
            Role*
            <select name="role" required>
              <option value="">Select role</option>
              <option value="Student" {% if request.form.get('role') == 'Student' %}selected{% endif %}>
                Student
              </option>
              <option value="Faculty" {% if request.form.get('role') == 'Faculty' %}selected{% endif %}>
                Faculty
              </option>
              <option value="Volunteer" {% if request.form.get('role') == 'Volunteer' %}selected{% endif %}>
                Volunteer
              </option>
            </select>
          </label>
          <label>
            Phone Number*
            <input
              type="tel"
              name="phone"
              placeholder="Enter 10-digit mobile number"
              value="{{ request.form.get('phone', '') }}"
              pattern="^[6-9]\d{9}$"
              minlength="10"
              maxlength="10"
              inputmode="numeric"
              required
            />
          </label>
          <label>
            Email
            <input
              type="email"
              name="email"
              placeholder="you@example.com"
              value="{{ request.form.get('email', '') }}"
            />
          </label>
        </div>
        <p class="privacy-note">
          By registering you consent to communications from the organisers of the Global Peace Conclave.
        </p>
        <button type="submit" class="btn primary registration-submit-btn">
          Submit Registration
        </button>
      </form>
    </div>
  </section>

  {% if registration_success %}
  <div id="registrationSuccessModal" class="modal-overlay">
    <div class="success-modal glass-card">
      <h3>Registration Successful</h3>
      <p>Registered successfully.</p>
      <button type="button" class="btn secondary close-modal-btn modal-refresh-btn">
        Okay
      </button>
    </div>
  </div>
  {% endif %}
  {% if registration_duplicate %}
  <div id="registrationDuplicateModal" class="modal-overlay">
    <div class="success-modal glass-card warning-state">
      <h3>Already Registered</h3>
      <p>These details are already on record.</p>
      <button type="button" class="btn secondary close-modal-btn modal-refresh-btn">
        Okay
      </button>
    </div>
  </div>
  {% endif %}
</main>

{% endblock %}

